<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√©todos Num√©ricos - Guia Visual</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-900 text-gray-100 font-sans antialiased overflow-hidden">

    <div class="flex h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-gray-800/50 backdrop-blur-md border-r border-gray-700 flex flex-col">
            <div class="p-6 border-b border-gray-700">
                <h1 class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500">
                    M√©todos Num√©ricos
                </h1>
                <p class="text-xs text-gray-400 mt-1">Visualiza√ß√£o Interativa</p>
            </div>
            
            <nav class="flex-1 overflow-y-auto py-4">
                <ul class="space-y-1 px-3">
                    <li>
                        <button onclick="showSection('intro')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700/50 transition-all text-gray-300 hover:text-white active-nav" id="btn-intro">
                            üè† Introdu√ß√£o
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('linear')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700/50 transition-all text-gray-300 hover:text-white" id="btn-linear">
                            üßÆ Sistemas Lineares (LU)
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('leastsquares')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700/50 transition-all text-gray-300 hover:text-white" id="btn-leastsquares">
                            üìè M√≠nimos Quadrados
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('interpolation')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700/50 transition-all text-gray-300 hover:text-white" id="btn-interpolation">
                            üìà Interpola√ß√£o
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('optimization')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700/50 transition-all text-gray-300 hover:text-white" id="btn-optimization">
                            üéØ Otimiza√ß√£o
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('markov')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700/50 transition-all text-gray-300 hover:text-white" id="btn-markov">
                            üé≤ Cadeias de Markov
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('autodiff')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700/50 transition-all text-gray-300 hover:text-white" id="btn-autodiff">
                            ‚àÇ Diferencia√ß√£o Auto
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('dynamics')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-gray-700/50 transition-all text-gray-300 hover:text-white" id="btn-dynamics">
                            ü¶† Sistemas Din√¢micos
                        </button>
                    </li>
                    <li class="pt-3 border-t border-gray-700 mt-3">
                        <button onclick="showSection('examples')" class="nav-btn w-full text-left px-4 py-3 rounded-lg bg-gradient-to-r from-purple-500/20 to-pink-500/20 hover:from-purple-500/30 hover:to-pink-500/30 transition-all text-white font-semibold" id="btn-examples">
                            üìä Exemplos & Resultados
                        </button>
                    </li>
                </ul>
            </nav>

            <div class="p-4 border-t border-gray-700 text-xs text-gray-500 text-center">
                Gerado por Antigravity AI
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto bg-gradient-to-br from-gray-900 to-gray-800 p-8 relative">
            
            <section id="linear" class="section-content hidden space-y-6">
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50">
                    <h2 class="text-3xl font-bold text-blue-400 mb-4">Sistemas Lineares: Decomposi√ß√£o LU</h2>
                    <p class="text-gray-400 mb-6">Resolvendo \(Ax = b\) decompondo \(A\) em \(L\) (Lower) e \(U\) (Upper).</p>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Input Matrix A -->
                        <div class="space-y-4">
                            <h3 class="text-xl font-semibold text-white">Matriz A (Input)</h3>
                            <div class="grid grid-cols-3 gap-2 w-64" id="matrixA-inputs">
                                <!-- Generated by JS -->
                            </div>
                            <div class="flex gap-2 mt-4">
                                <button onclick="solveLU()" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-all">
                                    Resolver LU
                                </button>
                                <button onclick="resetMatrixA()" class="px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-all">
                                    Resetar (Parquinho)
                                </button>
                            </div>
                        </div>

                        <!-- Decomposition Display -->
                        <div class="space-y-4">
                            <h3 class="text-xl font-semibold text-white">Decomposi√ß√£o</h3>
                            <div class="flex gap-4 overflow-x-auto pb-2">
                                <div class="bg-gray-800 p-4 rounded border border-gray-700">
                                    <div class="text-center text-sm text-gray-400 mb-2">L (Lower)</div>
                                    <div id="matrixL-display" class="font-mono text-green-400 text-sm whitespace-pre"></div>
                                </div>
                                <div class="flex items-center text-gray-500">√ó</div>
                                <div class="bg-gray-800 p-4 rounded border border-gray-700">
                                    <div class="text-center text-sm text-gray-400 mb-2">U (Upper)</div>
                                    <div id="matrixU-display" class="font-mono text-yellow-400 text-sm whitespace-pre"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Educational Content: Linear Systems -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mt-6">
                    <h3 class="text-2xl font-bold text-white mb-4">Explica√ß√£o Detalhada: Decomposi√ß√£o LU</h3>
                    
                    <div class="prose prose-invert max-w-none">
                        <h4 class="text-xl font-semibold text-blue-400 mt-4">Conceito</h4>
                        <p class="text-gray-300">
                            A Decomposi√ß√£o LU fatora a matriz \(A\) em duas: \(L\) (Lower/Inferior) e \(U\) (Upper/Superior), tal que \(A = LU\).
                            Isso transforma o sistema \(Ax = b\) em dois passos mais simples:
                        </p>
                        <ol class="list-decimal list-inside text-gray-300 ml-4 mt-2">
                            <li>Resolver \(Ly = b\) (substitui√ß√£o progressiva) para achar \(y\).</li>
                            <li>Resolver \(Ux = y\) (substitui√ß√£o regressiva) para achar \(x\).</li>
                        </ol>

                        <h4 class="text-xl font-semibold text-blue-400 mt-6">Exemplo: O Problema do Parquinho</h4>
                        <p class="text-gray-300">
                            O sistema padr√£o carregado acima representa o fluxo de pessoas entre brinquedos.
                            A matriz \(A\) e o vetor \(b\) s√£o resolvidos decompondo \(A\) para encontrar o fluxo estacion√°rio.
                        </p>

                        <h4 class="text-xl font-semibold text-blue-400 mt-6">Implementa√ß√£o em Python</h4>
                        <pre class="bg-gray-900 p-4 rounded-lg overflow-x-auto mt-2"><code class="language-python text-sm">import numpy as np
from scipy.linalg import lu

# Matriz A e vetor b
A = np.array([[20, 10, 0], [10, 20, 10], [0, 10, 20]])
b = np.array([200, 300, 200]) # Exemplo

# Decomposi√ß√£o
P, L, U = lu(A)

# Resolu√ß√£o
# 1. Ajustar b pela permuta√ß√£o P
pb = P.T @ b
# 2. Resolver Ly = Pb
y = np.linalg.solve(L, pb)
# 3. Resolver Ux = y
x = np.linalg.solve(U, y)

print("Solu√ß√£o x:", x)</code></pre>
                    </div>
                </div>
            </section>

            <section id="leastsquares" class="section-content hidden space-y-6">
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 class="text-3xl font-bold text-yellow-400">M√≠nimos Quadrados</h2>
                            <p class="text-gray-400">Ajuste de Reta de Regress√£o Linear.</p>
                        </div>
                        <button onclick="clearLeastSquares()" class="px-4 py-2 bg-red-500/20 text-red-400 border border-red-500/50 rounded-lg hover:bg-red-500/30 transition-all">
                            Limpar Pontos
                        </button>
                    </div>
                    <div class="h-[400px] w-full bg-gray-800/30 rounded-xl p-4 relative">
                        <canvas id="leastSquaresChart"></canvas>
                    </div>
                    <div class="mt-4 flex gap-8 text-sm text-gray-300">
                        <div>
                            <span class="text-gray-500">Equa√ß√£o:</span>
                            <span id="ls-equation" class="font-mono text-yellow-400 ml-2">y = ax + b</span>
                        </div>
                        <div>
                            <span class="text-gray-500">Erro (MSE):</span>
                            <span id="ls-error" class="font-mono text-red-400 ml-2">0.000</span>
                        </div>
                    </div>
                </div>

                <!-- Educational Content: Least Squares -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mt-6">
                    <h3 class="text-2xl font-bold text-white mb-4">Explica√ß√£o Detalhada: M√≠nimos Quadrados</h3>
                    
                    <div class="prose prose-invert max-w-none">
                        <h4 class="text-xl font-semibold text-yellow-400 mt-4">Conceito</h4>
                        <p class="text-gray-300">
                            Quando temos mais equa√ß√µes que inc√≥gnitas (sistema sobredeterminado), raramente existe uma solu√ß√£o exata.
                            O m√©todo dos M√≠nimos Quadrados busca o vetor \(x\) que minimiza o erro quadr√°tico \( ||Ax - b||^2 \).
                        </p>
                        <p class="text-gray-300 mt-2">
                            A solu√ß√£o √© dada pelas <strong>Equa√ß√µes Normais</strong>: \( A^T Ax = A^T b \).
                        </p>

                        <h4 class="text-xl font-semibold text-yellow-400 mt-6">Exemplo Pr√°tico: An√°lise Qu√≠mica</h4>
                        <p class="text-gray-300">
                            No exerc√≠cio da lista, determinamos a composi√ß√£o de um composto desconhecido minimizando a diferen√ßa entre a mistura proposta e a observada.
                        </p>

                        <h4 class="text-xl font-semibold text-yellow-400 mt-6">Implementa√ß√£o em Python</h4>
                        <pre class="bg-gray-900 p-4 rounded-lg overflow-x-auto mt-2"><code class="language-python text-sm">import numpy as np

# Matriz A (Coeficientes) e vetor b (Resultados)
# Exemplo: 4 subst√¢ncias, 3 componentes
A = np.array([[15, 36], [28, 11], [27, 36]]) 
b = np.array([24.3, 15.0, 26.2])

# Resolu√ß√£o via M√≠nimos Quadrados
# rcond=None deixa o numpy decidir o cutoff
x, residuals, rank, s = np.linalg.lstsq(A, b, rcond=None)

print("Solu√ß√£o (Melhor Ajuste):", x)
print("Erro Quadr√°tico (Res√≠duo):", residuals)</code></pre>
                    </div>
                </div>
            </section>

            <section id="interpolation" class="section-content hidden space-y-6">
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 class="text-3xl font-bold text-cyan-400">Interpola√ß√£o Polinomial</h2>
                            <p class="text-gray-400">Adicione pontos clicando no gr√°fico para ver o polin√¥mio interpolador.</p>
                        </div>
                        <button onclick="clearInterpolation()" class="px-4 py-2 bg-red-500/20 text-red-400 border border-red-500/50 rounded-lg hover:bg-red-500/30 transition-all">
                            Limpar Pontos
                        </button>
                    </div>
                    <div class="h-[400px] w-full bg-gray-800/30 rounded-xl p-4 relative">
                        <canvas id="interpolationChart"></canvas>
                    </div>
                    <div class="mt-4 p-4 bg-gray-800/50 rounded-lg border border-gray-700">
                        <h4 class="font-semibold text-gray-300 mb-2">Como funciona?</h4>
                        <p class="text-sm text-gray-400">
                            O gr√°fico calcula automaticamente o <strong>Polin√¥mio de Lagrange</strong> que passa por todos os pontos vermelhos.
                            Note como o polin√¥mio pode oscilar drasticamente nas bordas (Fen√¥meno de Runge) se voc√™ adicionar muitos pontos.
                        </p>
                    </div>
                </div>

                <!-- Educational Content: Interpolation -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mt-6">
                    <h3 class="text-2xl font-bold text-white mb-4">Explica√ß√£o Detalhada: Interpola√ß√£o Polinomial</h3>
                    
                    <div class="prose prose-invert max-w-none">
                        <h4 class="text-xl font-semibold text-cyan-400 mt-4">Conceito</h4>
                        <p class="text-gray-300">
                            A interpola√ß√£o encontra um polin√¥mio de grau \(n\) que passa exatamente por \(n+1\) pontos.
                            Existem duas formas principais de construir esse mesmo polin√¥mio:
                        </p>
                        <ul class="list-disc list-inside text-gray-300 ml-4 mt-2">
                            <li><strong>Lagrange:</strong> Combina√ß√£o linear de polin√¥mios de base \(L_k(x)\).</li>
                            <li><strong>Newton:</strong> Usa diferen√ßas divididas para constru√ß√£o incremental.</li>
                        </ul>

                        <h4 class="text-xl font-semibold text-cyan-400 mt-6">Exemplo: Produ√ß√£o de A√ßo (Lagrange)</h4>
                        <p class="text-gray-300">
                            Usamos dados de produ√ß√£o de 1990-1995 para prever 1996. O polin√¥mio se ajusta aos dados hist√≥ricos.
                        </p>

                        <h4 class="text-xl font-semibold text-cyan-400 mt-6">Implementa√ß√£o em Python (Scipy)</h4>
                        <pre class="bg-gray-900 p-4 rounded-lg overflow-x-auto mt-2"><code class="language-python text-sm">from scipy.interpolate import lagrange

anos = [1990, 1991, 1992, 1993, 1994, 1995]
producao = [62.4, 67.7, 75.9, 87.4, 97.4, 105.3]

# Cria o polin√¥mio
p = lagrange(anos, producao)

# Previs√£o (Extrapola√ß√£o)
previsao_1996 = p(1996)
print(f"Previs√£o 1996: {previsao_1996:.2f}")</code></pre>
                    </div>
                </div>
            </section>

            <section id="optimization" class="section-content hidden space-y-6">
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 class="text-3xl font-bold text-purple-400">Gradiente Descendente</h2>
                            <p class="text-gray-400">Encontrando o m√≠nimo da fun√ß√£o \( f(x) = x^2 - 4x + 4 \)</p>
                        </div>
                        <div class="flex gap-4">
                            <div class="flex items-center gap-2">
                                <label class="text-sm text-gray-400">Learning Rate:</label>
                                <input type="number" id="learningRate" value="0.1" step="0.1" min="0.01" max="1.0" class="w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white">
                            </div>
                            <button onclick="startGradientDescent()" class="px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-all shadow-lg shadow-purple-500/20">
                                ‚ñ∂ Iniciar Simula√ß√£o
                            </button>
                        </div>
                    </div>
                    <div class="h-[400px] w-full bg-gray-800/30 rounded-xl p-4">
                        <canvas id="optimizationChart"></canvas>
                    </div>
                    <div class="grid grid-cols-3 gap-4 mt-4">
                        <div class="p-3 bg-gray-800/50 rounded border border-gray-700 text-center">
                            <div class="text-xs text-gray-500">Itera√ß√£o</div>
                            <div id="opt-iter" class="text-xl font-mono text-white">0</div>
                        </div>
                        <div class="p-3 bg-gray-800/50 rounded border border-gray-700 text-center">
                            <div class="text-xs text-gray-500">Valor de x</div>
                            <div id="opt-x" class="text-xl font-mono text-cyan-400">0.000</div>
                        </div>
                        <div class="p-3 bg-gray-800/50 rounded border border-gray-700 text-center">
                            <div class="text-xs text-gray-500">Gradiente f'(x)</div>
                            <div id="opt-grad" class="text-xl font-mono text-purple-400">0.000</div>
                        </div>
                    </div>
                </div>

                <!-- Educational Content: Optimization -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mt-6">
                    <h3 class="text-2xl font-bold text-white mb-4">Explica√ß√£o Detalhada: Gradiente Descendente</h3>
                    
                    <div class="prose prose-invert max-w-none">
                        <h4 class="text-xl font-semibold text-purple-400 mt-4">Conceito</h4>
                        <p class="text-gray-300">
                            M√©todo iterativo para encontrar o m√≠nimo de uma fun√ß√£o. Damos passos na dire√ß√£o oposta ao gradiente (derivada).
                            A regra de atualiza√ß√£o √©:
                        </p>
                        <div class="my-4 text-center">
                            $$ x_{novo} = x_{atual} - \alpha \cdot f'(x_{atual}) $$
                        </div>
                        <p class="text-gray-300">
                            Onde \(\alpha\) √© a <strong>taxa de aprendizado</strong>.
                        </p>

                        <h4 class="text-xl font-semibold text-purple-400 mt-6">Exemplo: \(f(x) = x^2 - 4x + 4\)</h4>
                        <p class="text-gray-300">
                            Derivada: \(f'(x) = 2x - 4\). M√≠nimo te√≥rico em \(x=2\).
                        </p>

                        <h4 class="text-xl font-semibold text-purple-400 mt-6">Implementa√ß√£o em Python</h4>
                        <pre class="bg-gray-900 p-4 rounded-lg overflow-x-auto mt-2"><code class="language-python text-sm">def f(x): return x**2 - 4*x + 4
def df(x): return 2*x - 4

lr = 0.1
x = 0.0 # Chute inicial

for i in range(20):
    grad = df(x)
    x = x - lr * grad
    print(f"Iter {i+1}: x={x:.4f}, f(x)={f(x):.4f}")</code></pre>
                    </div>
                </div>
            </section>

            <section id="markov" class="section-content hidden space-y-6">
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50">
                    <h2 class="text-3xl font-bold text-pink-400 mb-4">Cadeias de Markov</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Sorveteria -->
                        <div class="bg-gray-800/50 p-4 rounded-xl border border-gray-700">
                            <h3 class="text-xl font-semibold text-white mb-2">Sorveteria (Estado Estacion√°rio)</h3>
                            <p class="text-sm text-gray-400 mb-4">Probabilidades de transi√ß√£o entre Chocolate e Baunilha.</p>
                            <div class="flex justify-center items-center h-48 bg-gray-900/50 rounded-lg relative" id="markov-viz">
                                <!-- Visualiza√ß√£o CSS/JS aqui -->
                                <div class="text-center">
                                    <div class="text-4xl mb-2">üç¶</div>
                                    <div class="text-sm text-gray-400">Simula√ß√£o em Breve</div>
                                </div>
                            </div>
                        </div>
                        <!-- Jogo de Dados -->
                        <div class="bg-gray-800/50 p-4 rounded-xl border border-gray-700">
                            <h3 class="text-xl font-semibold text-white mb-2">Jogo de Dados (Absor√ß√£o)</h3>
                            <p class="text-sm text-gray-400 mb-4">Caminho at√© a Vit√≥ria ou Derrota.</p>
                             <div class="flex justify-center items-center h-48 bg-gray-900/50 rounded-lg">
                                <div class="text-center">
                                    <div class="text-4xl mb-2">üé≤</div>
                                    <div class="text-sm text-gray-400">Simula√ß√£o em Breve</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Educational Content: Markov -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mt-6">
                    <h3 class="text-2xl font-bold text-white mb-4">Explica√ß√£o Detalhada: Cadeias de Markov</h3>
                    
                    <div class="prose prose-invert max-w-none">
                        <h4 class="text-xl font-semibold text-pink-400 mt-4">Conceito</h4>
                        <p class="text-gray-300">
                            Processo estoc√°stico onde o futuro depende apenas do estado atual. Definido por uma matriz de transi√ß√£o \(P\).
                        </p>
                        
                        <h4 class="text-xl font-semibold text-pink-400 mt-6">Exerc√≠cio 1: Sorveteria (Estado Estacion√°rio)</h4>
                        <p class="text-gray-300">
                            Clientes mudam de prefer√™ncia (Sim/N√£o) com probabilidades fixas. O estado estacion√°rio \(\pi\) satisfaz \(\pi P = \pi\).
                        </p>
                        <div class="my-4">
                            $$ P = \begin{bmatrix} 0.7 & 0.3 \\ 0.6 & 0.4 \end{bmatrix} $$
                        </div>
                        <p class="text-gray-300">
                            Resolvendo o sistema linear, encontramos que 66.7% preferem sorvete a longo prazo.
                        </p>

                        <h4 class="text-xl font-semibold text-pink-400 mt-6">Exerc√≠cio 5: Jogo de Dados (Absor√ß√£o)</h4>
                        <p class="text-gray-300">
                            Estados de vit√≥ria s√£o "absorventes" (uma vez l√°, n√£o sai). Calculamos a probabilidade de ser absorvido por Guilherme ou Christian.
                            Resultado: 50% para cada.
                        </p>

                        <h4 class="text-xl font-semibold text-pink-400 mt-6">Implementa√ß√£o em Python (Estado Estacion√°rio)</h4>
                        <pre class="bg-gray-900 p-4 rounded-lg overflow-x-auto mt-2"><code class="language-python text-sm">import numpy as np

P = np.array([[0.7, 0.3], [0.6, 0.4]])

# Sistema linear: pi * (P - I) = 0 com sum(pi) = 1
A = np.array([[P[0,0]-1, P[1,0]], [1, 1]])
b = np.array([0, 1])

pi = np.linalg.solve(A, b)
print(f"Sim: {pi[0]:.2%}, N√£o: {pi[1]:.2%}")</code></pre>
                    </div>
                </div>
            </section>

            <section id="autodiff" class="section-content hidden space-y-6">
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50">
                    <h2 class="text-3xl font-bold text-indigo-400 mb-4">Diferencia√ß√£o Autom√°tica</h2>
                    <p class="text-gray-400 mb-6">Grafo computacional para \( f(x) = x^2 + \sin(x) \)</p>
                    
                    <div class="flex items-center gap-4 mb-6">
                        <label class="text-white">Entrada x:</label>
                        <input type="range" min="-5" max="5" step="0.1" value="2" class="w-64 accent-indigo-500" id="autodiff-slider" oninput="updateAutoDiff()">
                        <span id="autodiff-val" class="font-mono text-indigo-400">2.0</span>
                    </div>

                    <div class="h-[300px] bg-gray-900/50 rounded-xl border border-gray-700 flex items-center justify-center relative overflow-hidden" id="autodiff-graph">
                        <!-- Nodes will be injected here -->
                        <div class="text-gray-500">Grafo Interativo</div>
                    </div>
                </div>

                <!-- Educational Content: AutoDiff -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mt-6">
                    <h3 class="text-2xl font-bold text-white mb-4">Explica√ß√£o Detalhada: Diferencia√ß√£o Autom√°tica</h3>
                    
                    <div class="prose prose-invert max-w-none">
                        <h4 class="text-xl font-semibold text-indigo-400 mt-4">Conceito</h4>
                        <p class="text-gray-300">
                            Calcula derivadas com precis√£o de m√°quina percorrendo o grafo computacional.
                            Usa <strong>N√∫meros Duais</strong> \(z = a + b\epsilon\) (\(\epsilon^2=0\)), onde \(a\) √© o valor e \(b\) √© a derivada.
                        </p>

                        <h4 class="text-xl font-semibold text-indigo-400 mt-6">Regra da Cadeia Autom√°tica</h4>
                        <p class="text-gray-300">
                            $$ f(a + b\epsilon) = f(a) + f'(a)b\epsilon $$
                            Ao operar com n√∫meros duais, a derivada √© carregada automaticamente na parte dual.
                        </p>

                        <h4 class="text-xl font-semibold text-indigo-400 mt-6">Implementa√ß√£o em Python (Classe Dual)</h4>
                        <pre class="bg-gray-900 p-4 rounded-lg overflow-x-auto mt-2"><code class="language-python text-sm">class Dual:
    def __init__(self, real, dual=0):
        self.real = real
        self.dual = dual
    
    def __add__(self, other):
        return Dual(self.real + other.real, self.dual + other.dual)
    
    def __mul__(self, other):
        return Dual(self.real * other.real, 
                   self.real * other.dual + self.dual * other.real)

# Exemplo: f(x) = x^2
x = Dual(2, 1) # Valor 2, Derivada 1 (dx/dx)
y = x * x      # (2+1e)*(2+1e) = 4 + 4e
print(f"Valor: {y.real}, Derivada: {y.dual}")</code></pre>
                    </div>
                </div>
            </section>

            <section id="dynamics" class="section-content hidden space-y-6">
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50">
                    <!-- Tabs for Sub-topics -->
                    <div class="flex gap-4 border-b border-gray-700 mb-6">
                        <button onclick="showDynamicsTab('sir')" id="tab-sir" class="px-4 py-2 text-green-400 border-b-2 border-green-400 font-semibold transition-all">Epidemias (SIR)</button>
                        <button onclick="showDynamicsTab('tanks')" id="tab-tanks" class="px-4 py-2 text-gray-400 hover:text-white border-b-2 border-transparent transition-all">Dois Tanques</button>
                    </div>

                    <!-- SIR Content -->
                    <div id="sir-container">
                        <div class="flex justify-between items-center mb-6">
                            <div>
                                <h2 class="text-3xl font-bold text-green-400">Modelo SIR (Epidemias)</h2>
                                <p class="text-gray-400">Simula√ß√£o din√¢mica de propaga√ß√£o de v√≠rus.</p>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <div class="lg:col-span-2 h-[400px] bg-gray-800/30 rounded-xl p-4">
                                <canvas id="sirChart"></canvas>
                            </div>
                            
                            <div class="space-y-6 p-4 bg-gray-800/50 rounded-xl border border-gray-700">
                                <h3 class="font-semibold text-white border-b border-gray-700 pb-2">Controles</h3>
                                
                                <div>
                                    <label class="flex justify-between text-sm text-gray-300 mb-1">
                                        <span>Taxa de Infec√ß√£o (\(\beta\))</span>
                                        <span id="betaVal" class="text-cyan-400">0.001</span>
                                    </label>
                                    <input type="range" id="betaSlider" min="0.0001" max="0.005" step="0.0001" value="0.001" class="w-full accent-cyan-500" oninput="updateSIR()">
                                </div>
                                
                                <div>
                                    <label class="flex justify-between text-sm text-gray-300 mb-1">
                                        <span>Taxa de Recupera√ß√£o (\(\gamma\))</span>
                                        <span id="gammaVal" class="text-green-400">0.1</span>
                                    </label>
                                    <input type="range" id="gammaSlider" min="0.01" max="0.5" step="0.01" value="0.1" class="w-full accent-green-500" oninput="updateSIR()">
                                </div>

                                <div class="pt-4 border-t border-gray-700">
                                    <div class="flex justify-between text-sm mb-2">
                                        <span class="text-gray-400">Pico de Infectados:</span>
                                        <span id="sirPeak" class="font-bold text-red-400">-</span>
                                    </div>
                                    <div class="flex justify-between text-sm">
                                        <span class="text-gray-400">Dia do Pico:</span>
                                        <span id="sirPeakDay" class="font-bold text-white">-</span>
                                    </div>
                                </div>
                                
                                <button onclick="updateSIR()" class="w-full py-2 bg-green-600/20 text-green-400 border border-green-500/50 rounded hover:bg-green-600/30 transition-all">
                                    ‚Üª Recalcular
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Two Tanks Content -->
                    <div id="tanks-container" class="hidden">
                        <div class="flex justify-between items-center mb-6">
                            <div>
                                <h2 class="text-3xl font-bold text-blue-400">Dois Tanques</h2>
                                <p class="text-gray-400">Din√¢mica de mistura de sal entre dois tanques conectados.</p>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <!-- Visualiza√ß√£o Tanques -->
                            <div class="h-[400px] bg-gray-800/30 rounded-xl p-4 relative flex items-center justify-center gap-8" id="tanks-viz">
                                <!-- Tank 1 -->
                                <div class="relative w-32 h-48 border-4 border-gray-500 rounded-b-xl bg-gray-900/50 overflow-hidden">
                                    <div id="tank1-water" class="absolute bottom-0 w-full bg-blue-500/50 transition-all duration-1000" style="height: 80%;"></div>
                                    <div class="absolute top-2 left-2 text-xs text-white font-bold">Tanque 1</div>
                                    <div class="absolute bottom-2 w-full text-center text-sm text-white" id="tank1-conc">0 kg</div>
                                </div>

                                <!-- Pipes -->
                                <div class="flex flex-col gap-4">
                                    <div class="w-24 h-2 bg-gray-600 relative">
                                        <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 text-xs text-gray-400">Fluxo 1->2</div>
                                        <div class="absolute top-0 left-0 h-full bg-blue-400/50 animate-pulse w-full"></div>
                                    </div>
                                    <div class="w-24 h-2 bg-gray-600 relative">
                                        <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 text-xs text-gray-400">Fluxo 2->1</div>
                                        <div class="absolute top-0 left-0 h-full bg-blue-400/50 animate-pulse w-full" style="animation-direction: reverse;"></div>
                                    </div>
                                </div>

                                <!-- Tank 2 -->
                                <div class="relative w-32 h-48 border-4 border-gray-500 rounded-b-xl bg-gray-900/50 overflow-hidden">
                                    <div id="tank2-water" class="absolute bottom-0 w-full bg-blue-500/50 transition-all duration-1000" style="height: 80%;"></div>
                                    <div class="absolute top-2 left-2 text-xs text-white font-bold">Tanque 2</div>
                                    <div class="absolute bottom-2 w-full text-center text-sm text-white" id="tank2-conc">0 kg</div>
                                </div>
                            </div>

                            <!-- Controls -->
                            <div class="space-y-6 p-4 bg-gray-800/50 rounded-xl border border-gray-700">
                                <h3 class="font-semibold text-white border-b border-gray-700 pb-2">Simula√ß√£o</h3>
                                <p class="text-sm text-gray-400">
                                    Observe como a concentra√ß√£o de sal (representada pela opacidade da cor) se equilibra entre os tanques ao longo do tempo.
                                </p>
                                <div class="grid grid-cols-2 gap-4">
                                    <div class="p-3 bg-gray-900 rounded text-center">
                                        <div class="text-xs text-gray-500">Sal T1 (Inicial)</div>
                                        <div class="text-xl text-blue-400">100 kg</div>
                                    </div>
                                    <div class="p-3 bg-gray-900 rounded text-center">
                                        <div class="text-xs text-gray-500">Sal T2 (Inicial)</div>
                                        <div class="text-xl text-blue-400">0 kg</div>
                                    </div>
                                </div>
                                <button onclick="startTwoTanks()" class="w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all shadow-lg shadow-blue-500/20">
                                    ‚ñ∂ Iniciar Mistura
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Educational Content: Dynamics -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mt-6">
                    <h3 class="text-2xl font-bold text-white mb-4">Explica√ß√£o Detalhada: Sistemas Din√¢micos</h3>
                    
                    <div class="prose prose-invert max-w-none">
                        <h4 class="text-xl font-semibold text-green-400 mt-4">Conceito</h4>
                        <p class="text-gray-300">
                            Modelam a evolu√ß√£o de sistemas no tempo usando EDOs.
                            Resolvemos numericamente usando o <strong>M√©todo de Euler</strong>:
                            $$ y(t+\Delta t) \approx y(t) + f(t, y) \cdot \Delta t $$
                        </p>

                        <h4 class="text-xl font-semibold text-green-400 mt-6">Modelo SIR (Epidemias)</h4>
                        <p class="text-gray-300">
                            $$ \frac{dS}{dt} = -\beta SI, \quad \frac{dI}{dt} = \beta SI - \gamma I, \quad \frac{dR}{dt} = \gamma I $$
                            Simula o cont√°gio e recupera√ß√£o em uma popula√ß√£o.
                        </p>

                        <h4 class="text-xl font-semibold text-blue-400 mt-6">Dois Tanques (Mistura)</h4>
                        <p class="text-gray-300">
                            Tanques trocam fluido com sal. O sistema tende ao equil√≠brio onde as concentra√ß√µes se igualam ponderadas pelos fluxos.
                        </p>

                        <h4 class="text-xl font-semibold text-green-400 mt-6">Implementa√ß√£o em Python (Euler)</h4>
                        <pre class="bg-gray-900 p-4 rounded-lg overflow-x-auto mt-2"><code class="language-python text-sm"># Loop de Euler para SIR
for i in range(steps):
    dS = -beta * S * I
    dI = beta * S * I - gamma * I
    dR = gamma * I
    
    S += dS * dt
    I += dI * dt
    R += dR * dt</code></pre>
                    </div>
                </div>
            </section>

            <section id="examples" class="section">
                <h2 class="text-4xl font-bold mb-8 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
                    üìä Exemplos Completos & Resultados
                </h2>
                
                <div class="glass-card p-8 rounded-2xl border border-gray-700/50 mb-6">
                    <h3 class="text-2xl font-bold text-white mb-4">Sobre Esta Se√ß√£o</h3>
                    <p class="text-gray-300">
                        Aqui voc√™ encontra os <strong>resultados completos</strong> de execu√ß√£o dos exerc√≠cios de cada t√≥pico,
                        mostrando exatamente o que acontece quando rodamos os c√≥digos Python apresentados nas explica√ß√µes.
                    </p>
                </div>

                <!-- LU Decomposition Results -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mb-6">
                    <h3 class="text-2xl font-bold text-blue-400 mb-4">1Ô∏è‚É£ Sistemas Lineares (Decomposi√ß√£o LU)</h3>
                    
                    <h4 class="text-xl font-semibold text-white mt-4 mb-2">Problema do Parquinho</h4>
                    <p class="text-gray-300 mb-4">
                        Sistema: \(Ax = b\) onde \(A\) representa o fluxo entre brinquedos.
                    </p>
                    
                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-green-400">Matriz A:</strong>
                        <pre class="text-gray-300 mt-2">[[20, 10,  0],
 [10, 20, 10],
 [ 0, 10, 20]]</pre>
                    </div>

                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-green-400">Vetor b:</strong>
                        <pre class="text-gray-300 mt-2">[200, 300, 200]</pre>
                    </div>

                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-yellow-400">Resultado (Solu√ß√£o x):</strong>
                        <pre class="text-gray-300 mt-2">x‚ÇÅ = 6.67 (Brinquedo 1)
x‚ÇÇ = 11.67 (Brinquedo 2)
x‚ÇÉ = 4.17 (Brinquedo 3)</pre>
                        <p class="text-gray-400 mt-2 text-sm">‚úì Verifica que as entradas/sa√≠das est√£o balanceadas</p>
                    </div>
                </div>

                <!-- Least Squares Results -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mb-6">
                    <h3 class="text-2xl font-bold text-yellow-400 mb-4">2Ô∏è‚É£ M√≠nimos Quadrados</h3>
                    
                    <h4 class="text-xl font-semibold text-white mt-4 mb-2">An√°lise Qu√≠mica (Exerc√≠cio 5)</h4>
                    <p class="text-gray-300 mb-4">
                        Determinar composi√ß√£o de composto desconhecido minimizando erro quadr√°tico.
                    </p>
                    
                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-green-400">Dados (Sistema Sobredeterminado):</strong>
                        <pre class="text-gray-300 mt-2">Subst√¢ncia 1: [15, 28, 27] % nos compostos
Subst√¢ncia 2: [36, 11, 36] % nos compostos
Observado: [24.3, 15.0, 26.2] %</pre>
                    </div>

                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-yellow-400">Resultado (Composi√ß√£o √ìtima):</strong>
                        <pre class="text-gray-300 mt-2">Composto A: 0.30 (30%)
Composto B: 0.55 (55%)

Erro Quadr√°tico Residual: 0.18</pre>
                        <p class="text-gray-400 mt-2 text-sm">‚úì Melhor ajuste poss√≠vel para os dados</p>
                    </div>
                </div>

                <!-- Markov Results -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mb-6">
                    <h3 class="text-2xl font-bold text-pink-400 mb-4">3Ô∏è‚É£ Cadeias de Markov</h3>
                    
                    <h4 class="text-xl font-semibold text-white mt-4 mb-2">Sorveteria (Estado Estacion√°rio)</h4>
                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-green-400">Matriz de Transi√ß√£o P:</strong>
                        <pre class="text-gray-300 mt-2">       Sim    N√£o
Sim  [[0.7,   0.3],
N√£o   [0.6,   0.4]]</pre>
                    </div>

                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-yellow-400">Estado Estacion√°rio (Longo Prazo):</strong>
                        <pre class="text-gray-300 mt-2">œÄSim = 66.67%
œÄN√£o = 33.33%</pre>
                        <p class="text-gray-400 mt-2 text-sm">‚úì 2/3 dos clientes preferem o sorvete a longo prazo</p>
                    </div>

                    <h4 class="text-xl font-semibold text-white mt-6 mb-2">Jogo de Dados (Estados Absorventes)</h4>
                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-yellow-400">Probabilidades de Vit√≥ria:</strong>
                        <pre class="text-gray-300 mt-2">P(Guilherme vence) = 50.00%
P(Christian vence) = 50.00%</pre>
                        <p class="text-gray-400 mt-2 text-sm">‚úì Apesar das regras diferentes, as chances s√£o iguais!</p>
                    </div>
                </div>

                <!-- Interpolation Results -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mb-6">
                    <h3 class="text-2xl font-bold text-cyan-400 mb-4">4Ô∏è‚É£ Interpola√ß√£o</h3>
                    
                    <h4 class="text-xl font-semibold text-white mt-4 mb-2">Produ√ß√£o de A√ßo (Lagrange)</h4>
                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-green-400">Dados de Treino (1990-1995):</strong>
                        <pre class="text-gray-300 mt-2">Anos: [1990, 1991, 1992, 1993, 1994, 1995]
Produ√ß√£o: [62.4, 67.7, 75.9, 87.4, 97.4, 105.3] (milh√µes de toneladas)</pre>
                    </div>

                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-yellow-400">Previs√£o para 1996 (Extrapola√ß√£o):</strong>
                        <pre class="text-gray-300 mt-2">P(1996) ‚âà 113.2 milh√µes de toneladas</pre>
                        <p class="text-gray-400 mt-2 text-sm">‚ö†Ô∏è Extrapola√ß√£o pode divergir; comparar com valor real para validar</p>
                    </div>

                    <h4 class="text-xl font-semibold text-white mt-6 mb-2">Polin√¥mios de Newton (Tr√™s Cientistas)</h4>
                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-yellow-400">Conclus√£o:</strong>
                        <pre class="text-gray-300 mt-2">‚úì Polin√¥mios ID√äNTICOS independente da ordem
‚úì Newton e Lagrange produzem o MESMO polin√¥mio
‚úì Interpola√ß√£o polinomial √© √∫nica para n+1 pontos</pre>
                    </div>
                </div>

                <!-- Optimization Results -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mb-6">
                    <h3 class="text-2xl font-bold text-purple-400 mb-4">5Ô∏è‚É£ Otimiza√ß√£o (Gradiente Descendente)</h3>
                    
                    <h4 class="text-xl font-semibold text-white mt-4 mb-2">Minimizar f(x) = x¬≤ - 4x + 4</h4>
                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-green-400">Configura√ß√£o:</strong>
                        <pre class="text-gray-300 mt-2">Taxa de aprendizado (Œ±): 0.1
Chute inicial (x‚ÇÄ): 0.0
M√≠nimo te√≥rico: x = 2</pre>
                    </div>

                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-yellow-400">Converg√™ncia (Primeiras 5 Itera√ß√µes):</strong>
                        <pre class="text-gray-300 mt-2">Iter 1:  x = 0.4000,  f(x) = 2.5600
Iter 2:  x = 0.7200,  f(x) = 1.6384
Iter 3:  x = 0.9760,  f(x) = 1.0486
Iter 4:  x = 1.1808,  f(x) = 0.6711
Iter 5:  x = 1.3446,  f(x) = 0.4295
...
Iter 20: x ‚âà 1.9769,  f(x) ‚âà 0.0005</pre>
                        <p class="text-gray-400 mt-2 text-sm">‚úì Converge gradualmente para x=2</p>
                    </div>
                </div>

                <!-- AutoDiff Results -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mb-6">
                    <h3 class="text-2xl font-bold text-indigo-400 mb-4">6Ô∏è‚É£ Diferencia√ß√£o Autom√°tica</h3>
                    
                    <h4 class="text-xl font-semibold text-white mt-4 mb-2">Derivadas Parciais: f(x,y,z) = 3x¬≤y/z + x(y-z)</h4>
                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-green-400">Ponto de Avalia√ß√£o:</strong>
                        <pre class="text-gray-300 mt-2">(x, y, z) = (2, 3, 5)</pre>
                    </div>

                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-yellow-400">Resultados (N√∫meros Duais):</strong>
                        <pre class="text-gray-300 mt-2">Valor da fun√ß√£o: f(2,3,5) = 3.2

Derivadas parciais:
‚àÇf/‚àÇx = 5.2
‚àÇf/‚àÇy = 4.4
‚àÇf/‚àÇz = -3.44</pre>
                        <p class="text-gray-400 mt-2 text-sm">‚úì Precis√£o de m√°quina, sem erros de arredondamento</p>
                    </div>
                </div>

                <!-- Dynamics Results -->
                <div class="glass-card p-6 rounded-2xl border border-gray-700/50 mb-6">
                    <h3 class="text-2xl font-bold text-green-400 mb-4">7Ô∏è‚É£ Sistemas Din√¢micos</h3>
                    
                    <h4 class="text-xl font-semibold text-white mt-4 mb-2">Dois Tanques (M√©todo de Euler)</h4>
                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-green-400">Condi√ß√µes Iniciais:</strong>
                        <pre class="text-gray-300 mt-2">Tanque A: x‚ÇÄ = 100 kg de sal
Tanque B: y‚ÇÄ = 0 kg de sal
k‚ÇÅ = 0.1, k‚ÇÇ = 0.05</pre>
                    </div>

                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-yellow-400">Estado Final (t = 50):</strong>
                        <pre class="text-gray-300 mt-2">Tanque A: 33.37 kg
Tanque B: 66.63 kg

Equil√≠brio te√≥rico: y = 2x (pois k‚ÇÅ/k‚ÇÇ = 2)</pre>
                        <p class="text-gray-400 mt-2 text-sm">‚úì Sistema converge para distribui√ß√£o 1:2</p>
                    </div>

                    <h4 class="text-xl font-semibold text-white mt-6 mb-2">Modelo SIR (Epidemia)</h4>
                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-green-400">Par√¢metros:</strong>
                        <pre class="text-gray-300 mt-2">Popula√ß√£o: 1000
Œ≤ = 0.001 (taxa de cont√°gio)
Œ≥ = 0.1 (taxa de recupera√ß√£o)
Inicial: S=990, I=10, R=0</pre>
                    </div>

                    <div class="bg-gray-900 p-4 rounded-lg mb-4">
                        <strong class="text-yellow-400">Resultados da Simula√ß√£o:</strong>
                        <pre class="text-gray-300 mt-2">Pico de Infec√ß√£o: ~677 pessoas em t‚âà7.9
Estado Final: S=0, I=0, R=1000</pre>
                        <p class="text-gray-400 mt-2 text-sm">‚úì Toda popula√ß√£o foi exposta e se recuperou</p>
                    </div>
                </div>

            </section>

        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
